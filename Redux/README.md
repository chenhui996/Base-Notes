# Redux

## 在我们阅读教程之前

Redux 官方文档对 Redux 的定义是:

**一个可预测的 JavaScript 应用状态管理容器.**

这就意味着, Redux 是无法单独运作的, 它需要: 与 **"一个具体的 View 层的前端框架"** 相结合, 才能发挥出它的威力.

这里的 View 层包括但不限于 React、Vue 或者 Angular 等.

这里我们将使用 React 作为 **绑定视图层**, 因为 Redux 最初诞生于 React 社区.

为解决 React 的 "状态管理" 问题而 "设计和开发" 的一个库. 

这篇教程将让你直观地感受 React 的“状态危机”, 以及 Redux 是如何解决这一危机的, 从而能够更好地学习 Redux.

> 理解它的源起, 以及它将走向什么样的远方.

---

近来 React Hooks 确实很火, 展现出惊人的潜力, 甚至有人声称可以抛弃 Redux 了。

这种说法不完全正确, Redux 的成功其实不仅仅是因为这个框架本身, 还因为围绕其构建起来的 "生态系统".

**比如 Enhancers、Middlewares、还有诸如 redux-form, redux-immutable 等**

甚至还有基于 Redux 的上层框架: 

如 Dva 还有 Rematch, 这些都为 Redux 巩固了在 React 社区的王者地位.

> Redux 的 React 绑定库 react-redux 现在用 React Hooks 重构，以求让代码更加精炼和高效.

---

## 开始 Redux 之旅

不管外界把 Redux 吹得如何天花乱坠，实际上它可以用一张图来概括，这张图也有利于帮助你思考前端的本质是什么：

1. Store -> 更新视图 -> View
2. View -> 发起更新动作 -> Reducers
3. Reducers -> 更新状态 -> Store
4. **S -> V -> R -> S...(loop)**

先来详解一下这张图，并且在教程之后的内容中，你会多次看到这张图以 "不同的形式" 出现.

希望学完本篇教程之后，每当你想起 Redux 时，脑海里就是上面这张图.

### View

首先我们来看 View，在前端开发中，我们称这个为 **视图层**.

就是 "展示给最终用户" 的效果，在本篇教程的学习中，**我们的 View 就是 React**.

### Store

随着 "前端应用" 要完成的工作越来越丰富，我们对前端也提出了要保持 “状态” 的要求。

- 在 React 中，这个 "状态" 将保存在 ```this.state```。
- 在 Redux 中，这个 "状态" 将保存在 ```Store```。

这个 ```Store``` 从 "抽象意义" 上来说, 可以看做一个前端的 “数据库”.

它保存着前端的状态（state），并且 "分发这些状态" 给 View，使得 View 根据这些 "状态" 渲染不同的内容.

> 注意到，Redux 是一个可预测的 JavaScript "应用状态管理" 容器，这个 "状态容器" 就是这里的 Store.

### Reducers

我们日常生活中看到的网页，它不是一成不变的，而是会 "响应" 用户的 “动作”，无论是 "页面跳转" 还是 "登陆注册"，这些 "动作会改变" 当前 "应用的状态".

在 Redux 框架中，Reducers 的作用, 就是 **"响应不同的动作"**。

更精确地说，Reducers 是 **负责更新 Store 中状态的 JavaScript 函数**。

> 当我们对这 "三个核心概念" 有了粗略的认知之后，就可以开始 Redux 的学习了。